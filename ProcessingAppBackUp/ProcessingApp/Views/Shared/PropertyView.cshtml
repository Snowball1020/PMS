@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@model PropertyModel

@{ 
    var photoPath = "~/images/" + (Model.ImageUrl ?? "No_Image_Available.jpg");
}

<div class="col-md-4" style="margin-top:1rem; ">
    <div class="card" style="width: 18rem;"  >
        <img src="@photoPath" class="card-img-top" alt="..." asp-append-version="true" width="300px;" height="300px;">
        <div class="card-body">
            <h5 class="card-title">@Html.DisplayNameFor(model => model.PropertyName): <span style="color:gray">@Html.DisplayFor(modelItem => modelItem.PropertyName)</span></h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>@Html.DisplayNameFor(model => model.PropertyAdress): </b>@Html.DisplayFor(modelItem => modelItem.PropertyAdress)</li>
            <li class="list-group-item"><b>@Html.DisplayNameFor(model => model.PropertyPrice): </b>@Html.DisplayFor(modelItem => modelItem.PropertyPrice)</li>
            <li class="list-group-item"><b>@Html.DisplayNameFor(model => model.City): </b>@Html.DisplayFor(modelItem => modelItem.City)</li>
        </ul>
        <div class="card-body d-flex justify-content-between align-items-center">
            <div class="dropdown">
                <a class="dropdown-toggle" href="#" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Action
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    @if (SignInManager.IsSignedIn(User))
                    {
                        <a class="dropdown-item" asp-action="Edit" asp-route-id="@Model.PropertyId">Edit</a>
                        <a class="dropdown-item" asp-action="Delete" asp-route-id="@Model.PropertyId">Delete</a>
                    }
                    <a class="dropdown-item" asp-action="Details" asp-route-id="@Model.PropertyId">Details</a>

                </div>
            </div>
            <button type="button" href="#" class="btn btn-success">Card link</button>
        </div>
    </div>
</div>
